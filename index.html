<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div id="app">
      <div>Learn Vue</div>
      <p>{{obj.count}}</p>
      <p>{{getFullName}}</p>
      <button v-on:click="obj.count++">Increment</button>
      <button v-on:click="obj.count--">Decrement</button>
      <input type="text" v-model="firstName" />
      <br />
      <br />
    </div>
  </body>
  <script>
    const { createApp, ref, reactive, computed, watch } = Vue;
    let name = ref("Ben");
    let age = ref(20);
    createApp({
      setup() {
        let counter = ref(0);
        const obj = reactive({ count :0 });
        let firstName = ref("Ben");
        let lastName = ref("Patel");

        watch(
          () => obj.count.value,
          (newValue, oldValue) => {
            console.log("Counter value changed from", oldValue, "to", newValue);
            if (newValue == 5) {
              alert("Counter value is 5");
            }
          }
        );

        const getFullName = computed((previous) => {
          console.log("previous value", previous);
          if (previous == "Ben 1 Patel") {
            console.log("Ben Patel -> Special case");
          }
          return firstName.value + " " + lastName.value;
        });

        return {
          counter,
          getFullName,
          firstName,
          obj
        };
      },
    }).mount("#app");
  </script>
</html>
